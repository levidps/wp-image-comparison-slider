"use strict";function initComparisons(){var t;t=document.getElementsByClassName("img-comp-container");var e=!0,a=!1,o=void 0;try{for(var i,n=t[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){s(i.value)}}catch(t){a=!0,o=t}finally{try{e||null==n.return||n.return()}finally{if(a)throw o}}function s(t){var e,a,o=t.querySelectorAll("img");t.classList.add("state_loading");for(var i=0;i<o.length;i++){var n=o[i];i===o.length-1?n.onload=function(){var o=this;l(t),r(t),setTimeout(function(){o.style.height=a+"px",o.style.maxWidth=e+"px"},100)}:n.onload=function(){a=this.offsetHeight>a?a:this.offsetHeight,e=this.offsetWidth>e?e:this.offsetWidth},n.src=n.dataset.src}}function r(t){if(t.dataset.showLabels){var e=t.dataset.beforeLabel?t.dataset.beforeLabel:"Before",a=t.dataset.afterLabel?t.dataset.afterLabel:"After",o=document.createElement("P"),i=document.createTextNode(e);o.appendChild(i),o.className+="img-comp__label img-comp__label__before",t.appendChild(o);var n=document.createElement("P"),s=document.createTextNode(a);n.appendChild(s),n.className+="img-comp__label img-comp__label__after",t.appendChild(n)}}function l(t){var e,a,o,i=0,n=t.querySelector(".img-comp-overlay"),s=50,r=50;t.dataset.comparisonStart&&(s=parseInt(t.dataset.comparisonStart)),t.dataset.uiVerticalPlacement&&(r=parseInt(t.dataset.uiVerticalPlacement)),t.style.height=n.offsetHeight+"px",a=n.offsetWidth,o=n.offsetHeight,n.style.width=a*(s/100)+"px",(e=document.createElement("DIV")).setAttribute("class","img-comp-slider"),n.parentElement.insertBefore(e,n),e.style.top=o*(r/100)-e.offsetHeight/2+"px",e.style.left=a*(s/100)-e.offsetWidth/2+"px",t.classList.add("state_active"),setTimeout(function(){t.classList.remove("state_loading")},1e3),"mousedown touchstart".split(" ").forEach(function(a){e.addEventListener(a,function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("img-comp-container--dragging"),i=1})}),"mouseup touchend".split(" ").forEach(function(e){document.addEventListener(e,function(){t.classList.remove("img-comp-container--dragging"),i=0})}),"mousemove touchmove".split(" ").forEach(function(o){t.addEventListener(o,function(s){i&&function(o){if(0===i)return!1;var s=o-t.getBoundingClientRect().left;s<0&&(s=0);s>a&&(s=a);r=s,n.style.width=r+"px",e.style.left=n.offsetWidth-e.offsetWidth/2+"px";var r}("touchmove"===o?s.changedTouches[0].clientX:s.clientX)})})}}window.addEventListener("onload",initComparisons(),!1);